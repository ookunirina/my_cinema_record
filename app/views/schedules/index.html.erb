<%= stylesheet_link_tag 'simple_calendar' %>
<% content_for(:title, t('.title')) %>
<div class="toppage">
<h1 style="color: black;"><%= t('.title') %></h1>
<br>

<div class="row">
<div class="col-md-4">
	<div class="schedule">今後の予定一覧</div>
<table class="table">
  <thead class="thead-light">
    <tr>
      <th>タイトル</th>
      <th>日程</th>
      <th>予定通知時間 (分)</th>
    </tr>
  </thead>

  <tbody>
    <% @schedules.each do |schedule| %>
      <tr>
        <td><%= link_to schedule.title , schedule %></td>
        <td><%= schedule.start_time.strftime("%m-%d %H:%M") %></td>
        <td><%= "#{schedule.reminder_time} 分前" %></td>
      </tr>
    <% end %>
  </tbody>
</table>



<%= form_with(model: @schedule, local: true) do |form| %>

  <div class="title">
    <div class="form-tag" style="color: black;">タイトル</div>
    <%= form.text_field :title %>
  </div>


  <div class="content">
    <div class="form-tag" style="color: black;">内容</div>
    <%= form.text_area :content, class: 'form-control' %>
  </div>

    <div class="time">
    <div class="form-tag" style="color: black;">日時</div>
    <%= form.datetime_select :start_time %>
  </div>

    <div class="reminder-time">
    <div class="form-tag" style="color: black;">予定通知時間 (分)</div>
    <span class="badge bg-info text-dark">日時の時間から「-」された時間にメールで通知が届きます。</span>
    <%= form.number_field :reminder_time, placeholder: '例: 3 (3分前に通知)' %>
  </div>

 <div class="submit">
    <%= form.submit %>
 </div>
<% end %>
</div>

<br>


<br>
<div class="col-md-11 pt-4">
<%= month_calendar events: @schedules do |date, schedules| %>
  <%= date.day %>

  <% schedules.each do |schedule| %>
    <div>
      <%= link_to schedule.title, schedule %>
    </div>
  <% end %>
<% end %>
</div>
</div>
</div>